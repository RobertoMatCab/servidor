(function(e){function o(o){for(var i,r,s=o[0],l=o[1],c=o[2],d=0,f=[];d<s.length;d++)r=s[d],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&f.push(n[r][0]),n[r]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);u&&u(o);while(f.length)f.shift()();return a.push.apply(a,c||[]),t()}function t(){for(var e,o=0;o<a.length;o++){for(var t=a[o],i=!0,s=1;s<t.length;s++){var l=t[s];0!==n[l]&&(i=!1)}i&&(a.splice(o--,1),e=r(r.s=t[0]))}return e}var i={},n={app:0},a=[];function r(o){if(i[o])return i[o].exports;var t=i[o]={i:o,l:!1,exports:{}};return e[o].call(t.exports,t,t.exports,r),t.l=!0,t.exports}r.m=e,r.c=i,r.d=function(e,o,t){r.o(e,o)||Object.defineProperty(e,o,{enumerable:!0,get:t})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,o){if(1&o&&(e=r(e)),8&o)return e;if(4&o&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(r.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&o&&"string"!=typeof e)for(var i in e)r.d(t,i,function(o){return e[o]}.bind(null,i));return t},r.n=function(e){var o=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(o,"a",o),o},r.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)},r.p="/servidor/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=o,s=s.slice();for(var c=0;c<s.length;c++)o(s[c]);var u=l;a.push([0,"chunk-vendors"]),t()})({0:function(e,o,t){e.exports=t("56d7")},"034f":function(e,o,t){"use strict";var i=t("19b3"),n=t.n(i);n.a},"19b3":function(e,o,t){},"439f":function(e,o,t){e.exports=t.p+"img/Icono.c6328c8c.png"},"56d7":function(e,o,t){"use strict";t.r(o);t("e260"),t("e6cf"),t("cca6"),t("a79d");var i=t("2b0e"),n=function(){var e=this,o=e.$createElement,i=e._self._c||o;return i("div",{attrs:{id:"app"}},[i("img",{attrs:{alt:"Vue logo",src:t("439f")}}),i("router-view")],1)},a=[],r=(t("034f"),t("2877")),s={},l=Object(r["a"])(s,n,a,!1,null,null,null),c=l.exports,u=(t("45fc"),t("8aa5")),d=t.n(u),f=t("8c4f"),m=function(){var e=this,o=e.$createElement,i=e._self._c||o;return i("v-container",{staticClass:"home"},[i("h3",[e._v("AWA Welcome to you space, "+e._s(e.usuario.nombre))]),i("v-row",{attrs:{"no-gutters":"",justify:"space-around"}},[i("v-card",[i("v-col",{staticStyle:{background:"blue"}},[i("v-navigation-drawer",{attrs:{"mini-variant":e.mini,permanent:""},on:{"update:miniVariant":function(o){e.mini=o},"update:mini-variant":function(o){e.mini=o}},model:{value:e.drawer,callback:function(o){e.drawer=o},expression:"drawer"}},[i("v-list-item",{staticClass:"px-2"},[i("v-list-item-avatar",[i("v-img",{attrs:{src:t("c205")}})],1),i("v-list-item-title",{on:{click:e.funcionEditarPerfil}},[e._v(e._s(this.usuario.nombre))]),i("v-btn",{attrs:{icon:""},on:{click:function(o){o.stopPropagation(),e.mini=!e.mini}}},[i("v-icon",[e._v("mdi-chevron-left")])],1)],1),i("v-divider"),i("v-list",{attrs:{dense:""}},[i("v-list-item",[i("v-list-item-icon",[i("v-icon",[e._v(e._s(e.home.icon))])],1),i("v-list-item-content",[i("v-list-item-title",{on:{click:e.funcionHome}},[e._v(e._s(e.home.title))])],1)],1),i("v-list-item",[i("v-list-item-icon",[i("v-icon",[e._v(e._s(e.hogares.icon))])],1),i("v-list-item-content",[i("v-list-item-title",{on:{click:e.funcionHogares}},[e._v(e._s(e.hogares.title))])],1)],1),i("v-list-item",[i("v-list-item-icon",[i("v-icon",[e._v(e._s(e.dispositivos.icon))])],1),i("v-list-item-content",[i("v-list-item-title",{on:{click:e.funcionDsipositivos}},[e._v(e._s(e.dispositivos.title))])],1)],1),i("v-list-item",[i("v-list-item-icon",[i("v-icon",[e._v(e._s(e.alertas.icon))])],1),i("v-list-item-content",[i("v-list-item-title",{on:{click:e.funcionAlertas}},[e._v(e._s(e.alertas.title))])],1)],1),i("v-list-item",[i("v-list-item-icon",[i("v-icon",[e._v(e._s(e.cerrarSesion.icon))])],1),i("v-list-item-content",[i("v-list-item-title",{on:{click:e.funcionCerrarSesion}},[e._v(e._s(e.cerrarSesion.title))])],1)],1)],1)],1)],1)],1),i("v-col",[i("div",{staticClass:"gb_Qe",staticStyle:{visibility:"hidden",left:"8px",top:"56px",display:"none"}},[e._v("Menú principal")]),i("v-btn",{on:{click:e.getMessagingToken}},[e._v(" algo chido ")]),e._v(" algo muy largo para ver cuomo se mueve est ")],1)],1)],1)},v=[],p=(t("a4d3"),t("4de4"),t("4160"),t("e439"),t("dbb4"),t("b64b"),t("ac1f"),t("5319"),t("159b"),t("96cf"),t("89ba")),g=t("2fa7"),h=t("2f62"),b=t("bc3a"),w=t.n(b);function y(e,o){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);o&&(i=i.filter((function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable}))),t.push.apply(t,i)}return t}function k(e){for(var o=1;o<arguments.length;o++){var t=null!=arguments[o]?arguments[o]:{};o%2?y(t,!0).forEach((function(o){Object(g["a"])(e,o,t[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):y(t).forEach((function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(t,o))}))}return e}var _={name:"home",components:{},data:function(){return{drawer:!0,home:{title:"Home",icon:"mdi-home-city",clickFuncion:"funcionHome"},hogares:{title:"Hogares",icon:"mdi-home-city",clickFuncion:"funcionHogares"},dispositivos:{title:"Dispositivos",icon:"mdi-home-city",clickFuncion:"funcionDispositivos"},alertas:{title:"Alertas",icon:"mdi-home-city",clickFuncion:"funcionAlertas"},cerrarSesion:{title:"Cerrar Sesión",icon:"mdi-home-city",clickFuncion:"funcionCerrarSesion"},mini:!0,usuario:{dato1:null,dato2:null,email:null,password:null,apellido:null,nombre:"null",telefono:null,foto:null,db:u["firestore"]()}}},created:function(){var e=u["firestore"](),o=u["auth"]().currentUser.uid,t=this;console.log(o),e.collection("Usuarios").doc(o).onSnapshot((function(e){t.usuario.nombre=e.data().nombre,t.usuario.email=e.data().email,t.usuario.apellido=e.data().apellido,t.usuario.telefono=e.data().telefono,t.usuario.email=e.data().email,t.usuario.password=e.data().password,t.usuario.foto=e.data().foto}))},methods:k({},Object(h["b"])(["guardarUsuario"]),{logout:function(){var e=this;u["auth"]().signOut().then((function(){e.$router.replace("login")}))},funcionHome:function(){console.log("hola caracola")},funcionHogares:function(){var e=this;console.log("hola caracola"),u["auth"]().signInWithEmailAndPassword(this.usuario.email,this.usuario.password).then((function(o){e.$router.replace("Hogares"),console.log(o)}),(function(e){alert("Error: "+e.message),console.log("Opps "+e.message)}))},funcionDsipositivos:function(){var e=this;console.log("voy a dispositivos"),console.log("hola caracola"),u["auth"]().signInWithEmailAndPassword(this.usuario.email,this.usuario.password).then((function(o){e.$router.replace("Dispositivos"),console.log(o)}),(function(e){alert("Error: "+e.message),console.log("Opps "+e.message)}))},funcionAlertas:function(){console.log("hola caracola"),this.guardarUsuario(this.usuario);var e=this.$store.getters.getUsuario;console.log("infoStore: "+e.nombre)},funcionCerrarSesion:function(){var e=this;u["auth"]().signOut().then((function(){e.$router.replace("login")}))},funcionEditarPerfil:function(){var e=this;console.log("funcion ir perfil"),u["auth"]().signInWithEmailAndPassword(this.usuario.email,this.usuario.password).then((function(o){e.$router.replace("EditarPerfil"),console.log(o)}),(function(e){alert("Error: "+e.message),console.log("Opps "+e.message)}))},cargar:function(){var e=this;u["firestore"]().collection("Usuarios").doc(u["auth"]().currentUser.uid).set({dato1:this.usuario.dato1,dato2:this.usuario.dato2},{merge:!0}).then((function(){})).catch((function(e){console.error("Error adding document: ",e)}));var o=u["firestore"]();o.collection("Usuarios").get().then((function(e){e.forEach((function(e){console.log(e.data().imagen)}))})),o.collection("Usuarios").get().then((function(o){o.forEach((function(o){e.usuario.email=o.data().email}))}));var t=u["storage"]().ref();t=t.child("FotosPerfil/"+u["auth"]().currentUser.uid);var i=new File([this.usuario.foto],"foo.png",{type:"text/plain"});t.put(i).then((function(){console.log("Uploaded a blob or file!")}))},getMessagingToken:function(){var e=this;u["messaging"]().getToken().then(function(){var o=Object(p["a"])(regeneratorRuntime.mark((function o(t){var i;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(!t){o.next=8;break}if(i=window.localStorage.getItem("messagingToken"),console.log("token will be updated",i!=t),i==t){o.next=6;break}return o.next=6,e.saveToken(t);case 6:o.next=10;break;case 8:console.log("No Instance ID token available. Request permission to generate one."),e.notificationsPermisionRequest();case 10:case"end":return o.stop()}}),o)})));return function(e){return o.apply(this,arguments)}}()).catch((function(e){console.log("An error occurred while retrieving token. ",e)}))},saveToken:function(e){console.log("tokens",e),w.a.post("https://us-central1-vue-firebase-tutorial-7ee46.cloudfunctions.net/GeneralSubscription",{token:e},{useCredentails:!0}).then((function(o){window.localStorage.setItem("messagingToken",e),console.log(o)})).catch((function(e){console.log(e)}))},notificationsPermisionRequest:function(){var e=this;u["messaging"]().requestPermission().then((function(){e.getMessagingToken()})).catch((function(e){console.log("Unable to get permission to notify.",e)}))},listenTokenRefresh:function(){var e=window.localStorage.getItem("messagingToken");console.log("currentMessageToken",e),e&&u["messaging"]().onTokenRefresh((function(){u["messaging"]().getToken().then((function(e){this.saveToken(e)})).catch((function(e){console.log("Unable to retrieve refreshed token ",e)}))}))}})},V=_,S=t("6544"),x=t.n(S),A=t("8336"),C=t("b0af"),E=t("62ad"),O=t("a523"),P=t("ce7e"),H=t("132d"),j=t("adda"),I=t("8860"),F=t("da13"),D=t("8270"),U=t("5d23"),T=t("34c3"),L=t("f774"),R=t("0fd9"),B=Object(r["a"])(V,m,v,!1,null,null,null),q=B.exports;x()(B,{VBtn:A["a"],VCard:C["a"],VCol:E["a"],VContainer:O["a"],VDivider:P["a"],VIcon:H["a"],VImg:j["a"],VList:I["a"],VListItem:F["a"],VListItemAvatar:D["a"],VListItemContent:U["a"],VListItemIcon:T["a"],VListItemTitle:U["b"],VNavigationDrawer:L["a"],VRow:R["a"]});var N=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",{staticClass:"login",staticStyle:{margin:"10px"},attrs:{align:"center"}},[t("h3",[e._v("Iniciar sesión")]),t("v-form",{staticStyle:{margin:"10px"},attrs:{align:"center"}},[t("v-text-field",{attrs:{label:"Email",rules:[e.rules.required,e.rules.email],counter:"",outlined:"",clearable:""},model:{value:e.email,callback:function(o){e.email=o},expression:"email"}}),t("br"),t("v-text-field",{staticClass:"input-group--focused",attrs:{"append-icon":e.show3?"mdi-eye":"mdi-eye-off",rules:[e.rules.required,e.rules.min],type:e.show3?"text":"password",label:"Contraseña",counter:"",outlined:""},on:{"click:append":function(o){e.show3=!e.show3}},model:{value:e.contrasena,callback:function(o){e.contrasena=o},expression:"contrasena"}})],1),t("p",[t("router-link",{attrs:{to:"/RecuperarContraseña"}},[e._v("¿Has olvidado la contraseña?")])],1),t("br"),t("v-btn",{staticStyle:{color:"aqua",background:"red"},attrs:{rounded:"",color:"primary"},on:{click:e.login}},[e._v("Iniciar sesión")]),t("br"),t("h4",[e._v("¿No tienes una cuenta? Puedes crearte una pulsando "),t("router-link",{attrs:{to:"/sign-up"}},[e._v("aquí")])],1)],1)},W=[],z={name:"login",data:function(){return{email:"",contrasena:"",show3:!1,rules:{required:function(e){return!!e||"Campo requerido."},min:function(e){return e.length>=8||"Mínimo 8 carácteres"},emailMatch:function(){return"The email and password you entered don't match"},email:function(e){var o=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return o.test(e)||"Invalid e-mail."}}}},created:function(){this.email="",this.contrasena=""},methods:{login:function(){var e=this;d.a.auth().signInWithEmailAndPassword(this.email,this.contrasena).then((function(o){alert("estas ahora logueado, "+e.email),e.$router.replace("home"),console.log(o)}),(function(e){alert("Error: "+e.message),console.log("Opps "+e.message)}))}}},M=z,Q=(t("d4d5"),t("4bd4")),G=t("8654"),J=Object(r["a"])(M,N,W,!1,null,"d5c4c9e2",null),K=J.exports;x()(J,{VBtn:A["a"],VForm:Q["a"],VTextField:G["a"]});var Z=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",{staticClass:"EditarInformacion",staticStyle:{margin:"10px"}},[t("v-row",{staticStyle:{margin:"10px"}},[t("v-list-item-avatar",{attrs:{size:"20%"},on:{click:e.funcionHolaCaracola}},[t("v-img")],1),t("v-file-input",{staticStyle:{margin:"10px","margin-right":"20%"},attrs:{value:"null",accept:"image/png, image/jpeg, image/bmp",label:"Foto perfil","prepend-icon":"mdi-camera",counter:"",outlined:"",clearable:""},model:{value:e.usuario.foto,callback:function(o){e.$set(e.usuario,"foto",o)},expression:"usuario.foto"}})],1),t("v-text-field",{attrs:{label:"Nombre",outlined:"",shaped:""},model:{value:e.usuario.nombre,callback:function(o){e.$set(e.usuario,"nombre",o)},expression:"usuario.nombre"}}),t("v-text-field",{attrs:{label:"Apellidos",outlined:"",shaped:""},model:{value:e.usuario.apellido,callback:function(o){e.$set(e.usuario,"apellido",o)},expression:"usuario.apellido"}}),t("v-text-field",{attrs:{label:"Telefono",outlined:"",shaped:""},model:{value:e.usuario.telefono,callback:function(o){e.$set(e.usuario,"telefono",o)},expression:"usuario.telefono"}}),t("v-text-field",{staticClass:"input-group--focused",attrs:{"append-icon":e.show3?"mdi-eye":"mdi-eye-off",type:e.show3?"text":"password",label:"Conraseña",outlined:"",shaped:""},on:{"click:append":function(o){e.show3=!e.show3}},model:{value:e.usuario.password,callback:function(o){e.$set(e.usuario,"password",o)},expression:"usuario.password"}}),t("v-row",[t("v-col",[t("v-btn",{staticStyle:{color:"aqua",background:"red"},attrs:{rounded:"",color:"primary"},on:{click:e.funcionCancelar}},[e._v("Cancelar")])],1),t("v-col",[t("v-btn",{staticStyle:{color:"aqua",background:"green"},attrs:{rounded:"",color:"primary"},on:{click:e.funcionGuardar}},[e._v("Guardar")])],1)],1)],1)},X=[],Y={name:"EditarInformacion",components:{},data:function(){return{nombre2:"algo",show3:!1,usuario:{email:null,password:null,apellido:null,nombre:"null",telefono:null,foto:null,db:u["firestore"]()}}},label:"algo!",created:function(){var e=this,o=u["firestore"]();o.collection("Usuarios").get().then((function(o){o.forEach((function(o){e.usuario.nombre=o.data().nombre,e.usuario.email=o.data().email,e.usuario.apellido=o.data().apellido,e.usuario.telefono=o.data().telefono,e.usuario.email=o.data().email,e.usuario.password=o.data().password;var t=u["storage"]().ref();t=t.child(u["auth"]().currentUser.uid);var i=new File([e.usuario.foto],"foo.png",{type:"text/plain"});i.size>9?(console.log("hay foto"),t.put(i).then((function(){console.log("Uploaded a blob or file!")})),e.usuario.foto=i):console.log("no hay foto"),console.log(e.usuario.foto)}))}));var t=u["storage"](),i=t.refFromURL("gs://vue-firebase-tutorial-7ee46.appspot.com/"+u["auth"]().currentUser.uid);console.log("algo"),console.log(i)},methods:{funcionHolaCaracola:function(){console.log("hola caracola")},funcionGuardar:function(){u["firestore"]().collection("Usuarios").doc(u["auth"]().currentUser.uid).set({nombre:this.usuario.nombre,apellido:this.usuario.apellido,telefono:this.usuario.telefono,password:this.usuario.password},{merge:!0}).then((function(){})).catch((function(e){console.error("Error adding document: ",e)}));var e=u["storage"]().ref();e=e.child(u["auth"]().currentUser.uid);var o=new File([this.usuario.foto],"foo.png",{type:"text/plain"});o.size>9&&e.put(o).then((function(){console.log("Uploaded a blob or file!")}))},funcionCancelar:function(){console.log("Volvemos a perfil"),this.$router.replace("EditarPerfil")}}},$=Y,ee=t("23a7"),oe=Object(r["a"])($,Z,X,!1,null,"eade5a86",null),te=oe.exports;x()(oe,{VBtn:A["a"],VCol:E["a"],VFileInput:ee["a"],VImg:j["a"],VListItemAvatar:D["a"],VRow:R["a"],VTextField:G["a"]});var ie=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",{staticClass:"sign-up"},[t("h3",[e._v("Crear cuenta")]),t("div",{staticStyle:{"margin-left":"auto","margin-right":"auto",width:"70%"}},[t("v-form",[t("v-text-field",{attrs:{rules:[e.rules.required],label:"Nombre",counter:"",outlined:"",clearable:""},model:{value:e.nombre,callback:function(o){e.nombre=o},expression:"nombre"}}),t("v-text-field",{attrs:{rules:[e.rules.required],label:"Apellidos",counter:"",outlined:"",clearable:""},model:{value:e.apellido,callback:function(o){e.apellido=o},expression:"apellido"}}),t("v-text-field",{attrs:{rules:[e.rules.required],label:"Número de teléfono",counter:"",outlined:"",clearable:""},model:{value:e.telefono,callback:function(o){e.telefono=o},expression:"telefono"}}),t("v-file-input",{attrs:{value:"null",accept:"image/png, image/jpeg, image/bmp",label:"Foto perfil","prepend-icon":"mdi-camera",counter:"",outlined:"",clearable:""},model:{value:e.foto,callback:function(o){e.foto=o},expression:"foto"}})],1)],1),t("v-form",{staticStyle:{"margin-left":"auto","margin-right":"auto",width:"70%"}},[t("v-text-field",{attrs:{label:"Email",rules:[e.rules.required,e.rules.email],counter:"",outlined:"",clearable:""},model:{value:e.email,callback:function(o){e.email=o},expression:"email"}}),t("v-text-field",{staticClass:"input-group--focused",attrs:{"append-icon":e.show3?"mdi-eye":"mdi-eye-off",rules:[e.rules.required,e.rules.min],type:e.show3?"text":"password",label:"Contraseña",counter:"",outlined:""},on:{"click:append":function(o){e.show3=!e.show3}},model:{value:e.password,callback:function(o){e.password=o},expression:"password"}}),t("button",{staticStyle:{color:"blue"},on:{click:e.singUp}},[e._v("Registrarse")]),t("span",[e._v(" o volver a "),t("router-link",{staticStyle:{color:"blue"},attrs:{to:"/login"}},[e._v("Iniciar sesión")]),e._v(".")],1)],1)],1)},ne=[],ae={name:"SingUp",data:function(){return{email:"",foto:null,password:"",apellido:"",nombre:"",telefono:"",show3:!1,rules:{required:function(e){return!!e||"Campo requerido."},min:function(e){return e.length>=8||"Mínimo 8 carácteres"},emailMatch:function(){return"The email and password you entered don't match"},email:function(e){var o=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return o.test(e)||"Invalid e-mail."}}}},methods:{singUp:function(){var e=this;d.a.auth().createUserWithEmailAndPassword(this.email,this.password).then((function(o){d.a.firestore().collection("Usuarios").doc(d.a.auth().currentUser.uid).set({email:e.email,password:e.password,apellido:e.apellido,nombre:e.nombre,telefono:e.telefono,foto:null},{merge:!0}).then((function(){console.log("Documento escrito con id : ",d.a.auth().currentUser.uid)})).catch((function(e){console.error("Error adding document: ",e)}));var t=d.a.firestore();t.collection("Usuarios").get().then((function(e){e.forEach((function(e){console.log(e.data().email)}))})),alert("estas ahora resgitrado"),e.$router.replace("home"),console.log(o)}),(function(e){alert("Opps "+e.message)}))}}},re=ae,se=Object(r["a"])(re,ie,ne,!1,null,"39923fb5",null),le=se.exports;x()(se,{VFileInput:ee["a"],VForm:Q["a"],VTextField:G["a"]});var ce=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",{staticClass:"RecuperarContraseña"},[t("h3",[e._v("Recuperar contraseña")]),t("v-form",{staticStyle:{width:"100%","margin-right":"50px","margin-left":"50px"},attrs:{align:"center"}},[t("v-text-field",{attrs:{label:"Escribe el email destino de la nueva contraseña",counter:"",outlined:"",clearable:""},model:{value:e.email,callback:function(o){e.email=o},expression:"email"}})],1),t("v-btn",{attrs:{rounded:"",color:"primary"},on:{click:e.recuperar}},[e._v("Enviar")]),t("br"),t("br"),t("h3",[e._v("Volver a "),t("router-link",{staticStyle:{color:"blue"},attrs:{to:"/login"}},[e._v("Iniciar sesión")]),e._v(".")],1)],1)},ue=[],de={name:"RecuperarContraseña",data:function(){return{email:"",contrasena:"",show3:!1}},methods:{recuperar:function(){var e=d.a.auth(),o=this.email;e.sendPasswordResetEmail(o).then((function(){alert("Contraseña nueva enviada al correo"),this.$router.replace("login")})).catch((function(e){alert("Opps "+e.message),console.log("Opps "+e.message)}))}}},fe=de,me=Object(r["a"])(fe,ce,ue,!1,null,"7162ac1a",null),ve=me.exports;x()(me,{VBtn:A["a"],VForm:Q["a"],VTextField:G["a"]});var pe=function(){var e=this,o=e.$createElement,i=e._self._c||o;return i("div",{staticClass:"EditarPerfil"},[i("v-row",{attrs:{justify:"space-around"}},[i("v-card",[i("v-col",{staticStyle:{background:"#7277ff"},attrs:{align:"left",sm:"6"}},[i("v-navigation-drawer",{attrs:{"mini-variant":e.mini,permanent:""},on:{"update:miniVariant":function(o){e.mini=o},"update:mini-variant":function(o){e.mini=o}},model:{value:e.drawer,callback:function(o){e.drawer=o},expression:"drawer"}},[i("v-list-item",{staticClass:"px-2"},[i("v-list-item-avatar",[i("v-img",{attrs:{src:t("c205")}})],1),i("v-list-item-title",{on:{click:e.funcionEditarPerfil}},[e._v(e._s(this.usuario.nombre))]),i("v-btn",{attrs:{icon:""},on:{click:function(o){o.stopPropagation(),e.mini=!e.mini}}},[i("v-icon",[e._v("mdi-chevron-left")])],1)],1),i("v-divider"),i("v-list",{attrs:{dense:""}},[i("v-list-item",[i("v-list-item-icon",[i("v-icon",[e._v(e._s(e.home.icon))])],1),i("v-list-item-content",[i("v-list-item-title",{on:{click:e.funcionHome}},[e._v(e._s(e.home.title))])],1)],1),i("v-list-item",[i("v-list-item-icon",[i("v-icon",[e._v(e._s(e.hogares.icon))])],1),i("v-list-item-content",[i("v-list-item-title",{on:{click:e.funcionHome}},[e._v(e._s(e.hogares.title))])],1)],1),i("v-list-item",[i("v-list-item-icon",[i("v-icon",[e._v(e._s(e.dispositivos.icon))])],1),i("v-list-item-content",[i("v-list-item-title",{on:{click:e.funcionHome}},[e._v(e._s(e.dispositivos.title))])],1)],1),i("v-list-item",[i("v-list-item-icon",[i("v-icon",[e._v(e._s(e.alertas.icon))])],1),i("v-list-item-content",[i("v-list-item-title",{on:{click:e.funcionHome}},[e._v(e._s(e.alertas.title))])],1)],1),i("v-list-item",[i("v-list-item-icon",[i("v-icon",[e._v(e._s(e.cerrarSesion.icon))])],1),i("v-list-item-content",[i("v-list-item-title",{on:{click:e.funcionCerrarSesion}},[e._v(e._s(e.cerrarSesion.title))])],1)],1)],1)],1)],1)],1),i("v-col",{staticStyle:{align:"center",width:"auto"}},[i("div",[i("v-form",{staticStyle:{width:"10%",margin:"auto"},attrs:{align:"center"}},[i("v-img",{attrs:{src:t("c205")}})],1),i("h3",[e._v("Información personal")]),i("div",[e._v(" Nombre: "+e._s(e.usuario.nombre)),i("br"),e._v(" Apellido: "+e._s(e.usuario.apellido)),i("br"),e._v(" Correo electrónico: "+e._s(e.usuario.email)),i("br"),e._v(" Telefono: "+e._s(e.usuario.telefono)+" ")])],1),i("v-btn",{staticStyle:{color:"black",background:"beige",margin:"10px",width:"auto"},attrs:{rounded:"",color:"primary"},on:{click:e.funcionCambiarDatos}},[e._v("Editar información")])],1)],1)],1)},ge=[],he={name:"EditarPerfil",components:{},data:function(){return{drawer:!0,home:{title:"Home",icon:"mdi-home-city",clickFuncion:"funcionHome"},hogares:{title:"Hogares",icon:"mdi-home-city",clickFuncion:"funcionHogares"},dispositivos:{title:"Dispositivos",icon:"mdi-home-city",clickFuncion:"funcionDispositivos"},alertas:{title:"Alertas",icon:"mdi-home-city",clickFuncion:"funcionAlertas"},cerrarSesion:{title:"Cerrar Sesión",icon:"mdi-home-city",clickFuncion:"funcionCerrarSesion"},mini:!0,usuario:{email:null,password:null,apellido:null,nombre:"null",telefono:null,foto:null,db:u["firestore"]()}}},created:function(){var e=this,o=u["firestore"]();o.collection("Usuarios").get().then((function(o){o.forEach((function(o){e.usuario.nombre=o.data().nombre,e.usuario.email=o.data().email,e.usuario.apellido=o.data().apellido,e.usuario.telefono=o.data().telefono,e.usuario.email=o.data().email,e.usuario.password=o.data().password,e.usuario.foto=o.data().foto,console.log(e.usuario.foto)}))}))},methods:{logout:function(){var e=this;u["auth"]().signOut().then((function(){e.$router.replace("login")}))},funcionHome:function(){var e=this;console.log("funcion volver home"),u["auth"]().signInWithEmailAndPassword(this.usuario.email,this.usuario.password).then((function(o){e.$router.replace("home"),console.log(o)}),(function(e){alert("Error: "+e.message),console.log("Opps "+e.message)}))},funcionHogares:function(){var e=this;u["auth"]().signInWithEmailAndPassword(this.usuario.email,this.usuario.password).then((function(o){e.$router.replace("Hogares"),console.log(o)}),(function(e){alert("Error: "+e.message),console.log("Opps "+e.message)}))},funcionDsipositivos:function(){var e=this;u["auth"]().signInWithEmailAndPassword(this.usuario.email,this.usuario.password).then((function(o){e.$router.replace("Dispositivos"),console.log(o)}),(function(e){alert("Error: "+e.message),console.log("Opps "+e.message)}))},funcionAlertas:function(){console.log("hola caracola")},funcionCerrarSesion:function(){var e=this;u["auth"]().signOut().then((function(){e.$router.replace("login")}))},funcionCambiarDatos:function(){var e=this;console.log("funcion ir editar informacion"),u["auth"]().signInWithEmailAndPassword(this.usuario.email,this.usuario.password).then((function(o){e.$router.replace("EditarInformacion"),console.log(o)}),(function(e){alert("Error: "+e.message),console.log("Opps "+e.message)}))},funcionEditarPerfil:function(){var e=this;u["auth"]().signOut().then((function(){e.$router.replace("EditarPerfil")}))},cargar:function(){var e=this;u["firestore"]().collection("Usuarios").doc(u["auth"]().currentUser.uid).set({dato1:this.usuario.dato1,dato2:this.usuario.dato2},{merge:!0}).then((function(){})).catch((function(e){console.error("Error adding document: ",e)}));var o=u["firestore"]();o.collection("Usuarios").get().then((function(e){e.forEach((function(e){console.log(e.data().imagen)}))})),o.collection("Usuarios").get().then((function(o){o.forEach((function(o){e.usuario.email=o.data().email}))}));var t=u["storage"]().ref();t=t.child("FotosPerfil/"+u["auth"]().currentUser.uid);var i=new File([this.usuario.foto],"foo.png",{type:"text/plain"});t.put(i).then((function(){console.log("Uploaded a blob or file!")}))}}},be=he,we=Object(r["a"])(be,pe,ge,!1,null,"1554d5c9",null),ye=we.exports;x()(we,{VBtn:A["a"],VCard:C["a"],VCol:E["a"],VDivider:P["a"],VForm:Q["a"],VIcon:H["a"],VImg:j["a"],VList:I["a"],VListItem:F["a"],VListItemAvatar:D["a"],VListItemContent:U["a"],VListItemIcon:T["a"],VListItemTitle:U["b"],VNavigationDrawer:L["a"],VRow:R["a"]});var ke=function(){var e=this,o=e.$createElement,i=e._self._c||o;return i("div",{staticClass:"Hogares"},[i("v-row",{attrs:{"no-gutters":"",justify:"space-around"}},[i("v-card",[i("v-col",{staticStyle:{background:"blue"}},[i("v-navigation-drawer",{attrs:{"mini-variant":e.mini,permanent:""},on:{"update:miniVariant":function(o){e.mini=o},"update:mini-variant":function(o){e.mini=o}},model:{value:e.drawer,callback:function(o){e.drawer=o},expression:"drawer"}},[i("v-list-item",{staticClass:"px-2"},[i("v-list-item-avatar",[i("v-img",{attrs:{src:t("c205")}})],1),i("v-list-item-title",{on:{click:e.funcionEditarPerfil}},[e._v(e._s(this.usuario.nombre))]),i("v-btn",{attrs:{icon:""},on:{click:function(o){o.stopPropagation(),e.mini=!e.mini}}},[i("v-icon",[e._v("mdi-chevron-left")])],1)],1),i("v-divider"),i("v-list",{attrs:{dense:""}},[i("v-list-item",[i("v-list-item-icon",[i("v-icon",[e._v(e._s(e.home.icon))])],1),i("v-list-item-content",[i("v-list-item-title",{on:{click:e.funcionHome}},[e._v(e._s(e.home.title))])],1)],1),i("v-list-item",[i("v-list-item-icon",[i("v-icon",[e._v(e._s(e.hogares.icon))])],1),i("v-list-item-content",[i("v-list-item-title",{on:{click:e.funcionHogares}},[e._v(e._s(e.hogares.title))])],1)],1),i("v-list-item",[i("v-list-item-icon",[i("v-icon",[e._v(e._s(e.dispositivos.icon))])],1),i("v-list-item-content",[i("v-list-item-title",{on:{click:e.funcionDsipositivos}},[e._v(e._s(e.dispositivos.title))])],1)],1),i("v-list-item",[i("v-list-item-icon",[i("v-icon",[e._v(e._s(e.alertas.icon))])],1),i("v-list-item-content",[i("v-list-item-title",{on:{click:e.funcionAlertas}},[e._v(e._s(e.alertas.title))])],1)],1),i("v-list-item",[i("v-list-item-icon",[i("v-icon",[e._v(e._s(e.cerrarSesion.icon))])],1),i("v-list-item-content",[i("v-list-item-title",{on:{click:e.funcionCerrarSesion}},[e._v(e._s(e.cerrarSesion.title))])],1)],1)],1)],1)],1)],1),i("v-col",[i("div",{staticClass:"gb_Qe",staticStyle:{visibility:"hidden",left:"8px",top:"56px",display:"none"}}),i("v-col",{attrs:{cols:"12",sm:"12",md:"6"}},[i("v-card",[i("v-toolbar",[i("v-app-bar-nav-icon",{staticStyle:{margin:"auto"}},[e._v("HOGARES")])],1),e._l(e.lista_hogares,(function(o){return i("v-container",{key:o.id},[i("v-row",{attrs:{dense:""}},[i("v-card",{attrs:{color:"#385F73",dark:""}},[i("v-card-title",{staticClass:"headline"},[e._v(e._s(o.direccion))]),i("v-card-subtitle",[e._v(e._s(o.titular)+" ("+e._s(o.telefono)+")")]),i("v-card-actions",[i("v-btn",{staticStyle:{background:"#42b983",margin:"auto"},attrs:{text:""},on:{click:function(o){return e.botonDetalles()}}},[e._v("Detalles")]),i("v-btn",{staticStyle:{background:"red",margin:"auto"},attrs:{text:""},on:{click:function(t){return e.botonBorrar(o)}}},[e._v("Borrar")])],1)],1)],1)],1)})),i("v-app",{staticStyle:{height:"500px"}},[i("v-dialog",{attrs:{persistent:""},scopedSlots:e._u([{key:"activator",fn:function(o){var t=o.on;return[i("v-btn",e._g({attrs:{absolute:"",fab:"",right:"",color:"primary",dark:""}},t),[i("v-icon",[e._v("mdi-plus")])],1)]}}]),model:{value:e.dialog,callback:function(o){e.dialog=o},expression:"dialog"}},[i("v-card",[i("v-card-title",[i("span",{staticClass:"headline"},[e._v("Nuevo Hogar")])]),i("v-card-text",[i("v-container",[i("v-row",[i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Direccion",hint:"Ejemplo: Calle Plaza de los Caidos 1 3ºa, 47003, Salamanca"},model:{value:e.hogar.direccion,callback:function(o){e.$set(e.hogar,"direccion",o)},expression:"hogar.direccion"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Numero contacto",hint:"Numero por si hay que ponerse en contacto con el titular"},model:{value:e.hogar.telefono,callback:function(o){e.$set(e.hogar,"telefono",o)},expression:"hogar.telefono"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Nombre Titular",hint:"nombre apellido1 apellido2"},model:{value:e.hogar.titular,callback:function(o){e.$set(e.hogar,"titular",o)},expression:"hogar.titular"}})],1)],1)],1)],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.funcionClose}},[e._v("Close")]),i("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.funcionSave}},[e._v("Save")])],1)],1)],1)],1)],2)],1)],1)],1)],1)},_e=[];function Ve(e,o){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);o&&(i=i.filter((function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable}))),t.push.apply(t,i)}return t}function Se(e){for(var o=1;o<arguments.length;o++){var t=null!=arguments[o]?arguments[o]:{};o%2?Ve(t,!0).forEach((function(o){Object(g["a"])(e,o,t[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ve(t).forEach((function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(t,o))}))}return e}var xe={name:"home",components:{},dialog:!1,data:function(){return{drawer:!0,dialog:!1,home:{title:"Home",icon:"mdi-home-city",clickFuncion:"funcionHome"},hogares:{title:"Hogares",icon:"mdi-home-city",clickFuncion:"funcionHogares"},dispositivos:{title:"Dispositivos",icon:"mdi-home-city",clickFuncion:"funcionDispositivos"},alertas:{title:"Alertas",icon:"mdi-home-city",clickFuncion:"funcionAlertas"},cerrarSesion:{title:"Cerrar Sesión",icon:"mdi-home-city",clickFuncion:"funcionCerrarSesion"},mini:!0,hogar:{direccion:null,telefono:null,titular:null,usuarioAsociado:null,db:u["firestore"]()},lista_hogares:[],usuario:{dato1:null,dato2:null,email:null,password:null,apellido:null,nombre:"null",telefono:null,foto:null,db:u["firestore"]()}}},created:function(){var e=this,o=u["auth"]().currentUser.uid,t=u["firestore"](),i=this;t.collection("Usuarios").get().then((function(o){o.forEach((function(o){e.usuario.nombre=o.data().nombre,e.usuario.email=o.data().email,e.usuario.apellido=o.data().apellido,e.usuario.telefono=o.data().telefono,e.usuario.email=o.data().email,e.usuario.password=o.data().password,e.usuario.foto=o.data().foto;var t=e.$store.getters.getUsuario;console.log("infoStorehome: "+t.nombre)}))})),t.collection("Hogares").where("usuarioAsociado","==",o).get().then((function(e){e.forEach((function(e){var o=Se({id:e.id},e.data());i.lista_hogares.push(o)}))}))},methods:{logout:function(){var e=this;u["auth"]().signOut().then((function(){e.$router.replace("login")}))},funcionAnadir:function(){console.log("hola caracola")},funcionHome:function(){var e=this;console.log("volver a home"),u["auth"]().signInWithEmailAndPassword(this.usuario.email,this.usuario.password).then((function(o){e.$router.replace("home"),console.log(o)}),(function(e){alert("Error: "+e.message),console.log("Opps "+e.message)}))},funcionHogares:function(){},funcionDsipositivos:function(){var e=this;console.log("hola voy a dispositivos"),console.log("hola caracola"),u["auth"]().signInWithEmailAndPassword(this.usuario.email,this.usuario.password).then((function(o){e.$router.replace("Hogares"),console.log(o)}),(function(e){alert("Error: "+e.message),console.log("Opps "+e.message)}))},funcionAlertas:function(){console.log("hola caracola")},funcionCerrarSesion:function(){var e=this;u["auth"]().signOut().then((function(){e.$router.replace("login")}))},funcionEditarPerfil:function(){var e=this;console.log("funcion ir perfil"),u["auth"]().signInWithEmailAndPassword(this.usuario.email,this.usuario.password).then((function(o){e.$router.replace("EditarPerfil"),console.log(o)}),(function(e){alert("Error: "+e.message),console.log("Opps "+e.message)}))},funcionClose:function(){console.log("close"),this.dialog=!1},funcionSave:function(){console.log("save"),this.dialog=!1,u["firestore"]().collection("Hogares").doc(this.hogar.direccion).set({direccion:this.hogar.direccion,telefono:this.hogar.telefono,titular:this.hogar.titular,usuarioAsociado:u["auth"]().currentUser.uid},{merge:!0})},botonDetalles:function(){console.log("pulsado boton detalles")},botonBorrar:function(e){console.log("pulsado boton borrar el "+e.direccion),u["firestore"]().collection("Hogares").doc(e.direccion).update({direccion:u["firestore"].FieldValue.delete(),telefono:u["firestore"].FieldValue.delete(),titular:u["firestore"].FieldValue.delete(),usarioAsociado:u["firestore"].FieldValue.delete(),db:u["firestore"].FieldValue.delete()}).then((function(){console.log("Datos borrados")})).catch((function(e){console.error("Error removing datos: ",e)})),u["firestore"]().collection("Hogares").doc(e.direccion).delete().then((function(){console.log("Document successfully deleted!")})).catch((function(e){console.error("Error removing document: ",e)}))}}},Ae=xe,Ce=t("7496"),Ee=t("5bc1"),Oe=t("99d9"),Pe=t("169a"),He=t("2fa4"),je=t("71d9"),Ie=Object(r["a"])(Ae,ke,_e,!1,null,"4c8da866",null),Fe=Ie.exports;x()(Ie,{VApp:Ce["a"],VAppBarNavIcon:Ee["a"],VBtn:A["a"],VCard:C["a"],VCardActions:Oe["a"],VCardSubtitle:Oe["b"],VCardText:Oe["c"],VCardTitle:Oe["d"],VCol:E["a"],VContainer:O["a"],VDialog:Pe["a"],VDivider:P["a"],VIcon:H["a"],VImg:j["a"],VList:I["a"],VListItem:F["a"],VListItemAvatar:D["a"],VListItemContent:U["a"],VListItemIcon:T["a"],VListItemTitle:U["b"],VNavigationDrawer:L["a"],VRow:R["a"],VSpacer:He["a"],VTextField:G["a"],VToolbar:je["a"]});var De=function(){var e=this,o=e.$createElement,i=e._self._c||o;return i("div",{staticClass:"Hogares"},[i("v-row",{attrs:{"no-gutters":"",justify:"space-around"}},[i("v-card",[i("v-col",{staticStyle:{background:"blue"}},[i("v-navigation-drawer",{attrs:{"mini-variant":e.mini,permanent:""},on:{"update:miniVariant":function(o){e.mini=o},"update:mini-variant":function(o){e.mini=o}},model:{value:e.drawer,callback:function(o){e.drawer=o},expression:"drawer"}},[i("v-list-item",{staticClass:"px-2"},[i("v-list-item-avatar",[i("v-img",{attrs:{src:t("c205")}})],1),i("v-list-item-title",{on:{click:e.funcionEditarPerfil}},[e._v(e._s(this.usuario.nombre))]),i("v-btn",{attrs:{icon:""},on:{click:function(o){o.stopPropagation(),e.mini=!e.mini}}},[i("v-icon",[e._v("mdi-chevron-left")])],1)],1),i("v-divider"),i("v-list",{attrs:{dense:""}},[i("v-list-item",[i("v-list-item-icon",[i("v-icon",[e._v(e._s(e.home.icon))])],1),i("v-list-item-content",[i("v-list-item-title",{on:{click:e.funcionHome}},[e._v(e._s(e.home.title))])],1)],1),i("v-list-item",[i("v-list-item-icon",[i("v-icon",[e._v(e._s(e.hogares.icon))])],1),i("v-list-item-content",[i("v-list-item-title",{on:{click:e.funcionHogares}},[e._v(e._s(e.hogares.title))])],1)],1),i("v-list-item",[i("v-list-item-icon",[i("v-icon",[e._v(e._s(e.dispositivos.icon))])],1),i("v-list-item-content",[i("v-list-item-title",{on:{click:e.funcionDsipositivos}},[e._v(e._s(e.dispositivos.title))])],1)],1),i("v-list-item",[i("v-list-item-icon",[i("v-icon",[e._v(e._s(e.alertas.icon))])],1),i("v-list-item-content",[i("v-list-item-title",{on:{click:e.funcionAlertas}},[e._v(e._s(e.alertas.title))])],1)],1),i("v-list-item",[i("v-list-item-icon",[i("v-icon",[e._v(e._s(e.cerrarSesion.icon))])],1),i("v-list-item-content",[i("v-list-item-title",{on:{click:e.funcionCerrarSesion}},[e._v(e._s(e.cerrarSesion.title))])],1)],1)],1)],1)],1)],1),i("v-col",[i("div",{staticClass:"gb_Qe",staticStyle:{visibility:"hidden",left:"8px",top:"56px",display:"none"}}),i("v-col",{attrs:{cols:"12",sm:"12",md:"6"}},[i("v-card",[i("v-toolbar",[i("v-app-bar-nav-icon",{staticStyle:{margin:"auto"}},[e._v("DISPOSITIVOS")])],1),e._l(e.lista_dispositivos,(function(o){return i("v-container",{key:o.id},[i("v-row",{attrs:{dense:""}},[i("v-card",{attrs:{color:"#385F73",dark:""}},[i("v-card-title",{staticClass:"headline"},[e._v(e._s(o.identificacion))]),i("v-card-subtitle"),i("v-card-actions",[i("v-btn",{staticStyle:{background:"#42b983",margin:"auto"},attrs:{text:""},on:{click:function(o){return e.botonDetalles()}}},[e._v("Detalles")]),i("v-btn",{staticStyle:{background:"red",margin:"auto"},attrs:{text:""},on:{click:function(t){return e.botonBorrar(o)}}},[e._v("Borrar")])],1)],1)],1)],1)})),i("v-app",{staticStyle:{height:"500px"}},[i("v-dialog",{attrs:{persistent:""},scopedSlots:e._u([{key:"activator",fn:function(o){var t=o.on;return[i("v-btn",e._g({attrs:{absolute:"",fab:"",right:"",color:"primary",dark:""}},t),[i("v-icon",[e._v("mdi-plus")])],1)]}}]),model:{value:e.dialog,callback:function(o){e.dialog=o},expression:"dialog"}},[i("v-card",[i("v-card-title",[i("span",{staticClass:"headline"},[e._v("Nuevo Dispositivo")])]),i("v-card-text",[i("v-container",[i("v-row",[i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Numero de identificación"},model:{value:e.dispositivo.identificacion,callback:function(o){e.$set(e.dispositivo,"identificacion",o)},expression:"dispositivo.identificacion"}})],1)],1)],1)],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.funcionClose}},[e._v("Close")]),i("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.funcionSave}},[e._v("Save")])],1)],1)],1)],1)],2)],1)],1)],1)],1)},Ue=[];function Te(e,o){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);o&&(i=i.filter((function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable}))),t.push.apply(t,i)}return t}function Le(e){for(var o=1;o<arguments.length;o++){var t=null!=arguments[o]?arguments[o]:{};o%2?Te(t,!0).forEach((function(o){Object(g["a"])(e,o,t[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Te(t).forEach((function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(t,o))}))}return e}var Re={name:"Dispositivos",components:{},dialog:!1,data:function(){return{drawer:!0,dialog:!1,home:{title:"Home",icon:"mdi-home-city",clickFuncion:"funcionHome"},hogares:{title:"Hogares",icon:"mdi-home-city",clickFuncion:"funcionHogares"},dispositivos:{title:"Dispositivos",icon:"mdi-home-city",clickFuncion:"funcionDispositivos"},alertas:{title:"Alertas",icon:"mdi-home-city",clickFuncion:"funcionAlertas"},cerrarSesion:{title:"Cerrar Sesión",icon:"mdi-home-city",clickFuncion:"funcionCerrarSesion"},mini:!0,dispositivo:{identificacion:null,usuarioAsociado:null,db:u["firestore"]()},lista_dispositivos:[],usuario:{dato1:null,dato2:null,email:null,password:null,apellido:null,nombre:"null",telefono:null,foto:null,db:u["firestore"]()}}},created:function(){var e=this,o=u["firestore"](),t=this;o.collection("Usuarios").get().then((function(o){o.forEach((function(o){e.usuario.nombre=o.data().nombre,e.usuario.email=o.data().email,e.usuario.apellido=o.data().apellido,e.usuario.telefono=o.data().telefono,e.usuario.email=o.data().email,e.usuario.password=o.data().password,e.usuario.foto=o.data().foto,console.log(e.usuario.foto)}))})),o.collection("Dispositivos").get().then((function(e){e.forEach((function(e){var o=Le({id:e.id},e.data());t.lista_dispositivos.push(o)}))}))},methods:{logout:function(){var e=this;u["auth"]().signOut().then((function(){e.$router.replace("login")}))},funcionAnadir:function(){console.log("hola caracola")},funcionHome:function(){var e=this;console.log("volver a home"),u["auth"]().signInWithEmailAndPassword(this.usuario.email,this.usuario.password).then((function(o){e.$router.replace("home"),console.log(o)}),(function(e){alert("Error: "+e.message),console.log("Opps "+e.message)}))},funcionHogares:function(){var e=this;console.log("hola caracola"),u["auth"]().signInWithEmailAndPassword(this.usuario.email,this.usuario.password).then((function(o){e.$router.replace("Hogares"),console.log(o)}),(function(e){alert("Error: "+e.message),console.log("Opps "+e.message)}))},funcionDsipositivos:function(){console.log("hola caracola")},funcionAlertas:function(){console.log("hola caracola")},funcionCerrarSesion:function(){var e=this;u["auth"]().signOut().then((function(){e.$router.replace("login")}))},funcionEditarPerfil:function(){var e=this;console.log("funcion ir perfil"),u["auth"]().signInWithEmailAndPassword(this.usuario.email,this.usuario.password).then((function(o){e.$router.replace("EditarPerfil"),console.log(o)}),(function(e){alert("Error: "+e.message),console.log("Opps "+e.message)}))},funcionClose:function(){console.log("close"),this.dialog=!1},funcionSave:function(){console.log("save"),this.dialog=!1,u["firestore"]().collection("Dispositivos").doc(this.dispositivo.identificacion).set({identificacion:this.dispositivo.identificacion,usuarioAsociado:u["auth"]().currentUser.uid},{merge:!0})},botonDetalles:function(){console.log("pulsado boton detalles")},botonBorrar:function(e){console.log("pulsado boton borrar el "+e.identificacion),u["firestore"]().collection("Dispositivos").doc(e.identificacion).update({identificacion:u["firestore"].FieldValue.delete(),usarioAsociado:u["firestore"].FieldValue.delete(),db:u["firestore"].FieldValue.delete()}).then((function(){console.log("Datos borrados")})).catch((function(e){console.error("Error removing datos: ",e)})),u["firestore"]().collection("Dispositivos").doc(e.identificacion).delete().then((function(){console.log("Document successfully deleted!")})).catch((function(e){console.error("Error removing document: ",e)}))}}},Be=Re,qe=Object(r["a"])(Be,De,Ue,!1,null,"0fbc2240",null),Ne=qe.exports;x()(qe,{VApp:Ce["a"],VAppBarNavIcon:Ee["a"],VBtn:A["a"],VCard:C["a"],VCardActions:Oe["a"],VCardSubtitle:Oe["b"],VCardText:Oe["c"],VCardTitle:Oe["d"],VCol:E["a"],VContainer:O["a"],VDialog:Pe["a"],VDivider:P["a"],VIcon:H["a"],VImg:j["a"],VList:I["a"],VListItem:F["a"],VListItemAvatar:D["a"],VListItemContent:U["a"],VListItemIcon:T["a"],VListItemTitle:U["b"],VNavigationDrawer:L["a"],VRow:R["a"],VSpacer:He["a"],VTextField:G["a"],VToolbar:je["a"]}),i["a"].use(f["a"]);var We=new f["a"]({routes:[{path:"*",redirect:"/login"},{path:"/",redirect:"/login"},{path:"/login",name:"Login",component:K},{path:"/sign-up",name:"SignUp",component:le},{path:"/RecuperarContraseña",name:"RecuperarContraseña",component:ve},{path:"/EditarPerfil",name:"EditarPerfil",component:ye,meta:{requiresAuth:!0}},{path:"/Dispositivos",name:"Dispositivos",component:Ne,meta:{requiresAuth:!0}},{path:"/EditarInformacion",name:"EditarInformacion",component:te,meta:{requiresAuth:!0}},{path:"/Hogares",name:"Hogares",component:Fe,meta:{requiresAuth:!0}},{path:"/home",name:"Home",component:q,meta:{requiresAuth:!0}}]});We.beforeEach((function(e,o,t){var i=d.a.auth().currentUser,n=e.matched.some((function(e){return e.meta.requiresAuth}));n&&!i?t("login"):!n&&i?t("home"):t()}));var ze=We,Me=t("f309");i["a"].use(Me["a"]);var Qe=new Me["a"]({icons:{iconfont:"mdi"}});i["a"].use(h["a"]);var Ge=new h["a"].Store({state:{usuario:{nombre:null,email:null,apellido:null,telefono:null,foto:null}},getters:{getUsuario:function(e){return e.usuario}},mutations:{setUsuarioNombre:function(e,o){e.usuario.nombre=o}},actions:{guardarUsuario:function(e,o){e.commit("setUsuarioNombre",o.nombre)}}}),Je=(t("e71f"),t("741f"),t("588e"),t("9483"));Object(Je["a"])("".concat("/servidor/","firebase-messaging-sw.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}}),i["a"].config.productionTip=!1;var Ke="";d.a.initializeApp({apiKey:"AIzaSyCnHo7J8e4ZT-Tw3vjAIIUWUVQFtg0gFN8",authDomain:"vue-firebase-tutorial-7ee46.firebaseapp.com",databaseURL:"https://vue-firebase-tutorial-7ee46.firebaseio.com",projectId:"vue-firebase-tutorial-7ee46",storageBucket:"vue-firebase-tutorial-7ee46.appspot.com",messagingSenderId:"24087531277",appId:"1:24087531277:web:b4ace0b15ec05794cdea44"});var Ze=d.a.firestore();console.log(Ze),Ze.enablePersistence({experimentalTabSynchronization:!0});var Xe=d.a.storage(),Ye=d.a.messaging();d.a.auth().onAuthStateChanged((function(){Ke||(Ke=new i["a"]({router:ze,store:Ge,db:Ze,storage:Xe,messaging:Ye,vuetify:Qe,render:function(e){return e(c)}}).$mount("#app"))}))},"9ca3":function(e,o,t){},c205:function(e,o){e.exports="data:image/png;base64,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"},d4d5:function(e,o,t){"use strict";var i=t("9ca3"),n=t.n(i);n.a}});
//# sourceMappingURL=app.38adb446.js.map